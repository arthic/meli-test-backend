{"version":3,"sources":["contex/MeliContext.js","components/Category.js","types/types.js","components/Search.js","helpers/getMELI.js","components/Item.js","components/Results.js","components/Details.js","components/Welcome.js","routers/AppRouter.js","contex/meliReducer.js","MeliApp.js","index.js"],"names":["MeliContext","createContext","Category","categories","useContext","length","className","types","Search","useState","inputValue","setInputValue","dispatch","history","useHistory","handleEnterSearch","e","target","value","key","inputCode","encodeURI","replace","onClick","type","payload","src","alt","name","placeholder","onChange","onKeyPress","getMeliSearch","category","a","busqueda","console","log","url","fetch","resp","getItemDescription","item","Item","details","id","picture","title","price","amount","decimals","free_shipping","state_name","Results","items","setItems","location","useLocation","querySearch","queryString","parse","search","useEffect","then","res","json","data","results","catch","err","map","Details","setDetails","useParams","condition","sold_quantity","href","buy_link","rel","description","Welcome","style","textAlign","marginTop","role","aria-label","AppRouter","exact","path","component","to","meliReducer","state","action","init","MeliApp","useReducer","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6ea6fe60.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const MeliContext = createContext();","import React, {useContext} from 'react'\nimport { MeliContext } from '../contex/MeliContext'\n\nexport const Category = () => {\n\n    const {categories: categoriesContext}  = useContext( MeliContext );\n    const {categories} = categoriesContext || null\n\n    return (\n        <>\n            {\n                categories.length > 1 && (\n                    <p className=\"global-category\"> {categories[0]} &#62; {categories[1]} &#62; {categories[2]} &#62; <span>{categories[3]}</span>\n                    </p>\n                )\n            }\n        </>\n    )\n}","export const types = {\n    categories: '[meli] categories'\n}","import React, { useContext, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { MeliContext } from '../contex/MeliContext'\nimport { types } from '../types/types'\n\nexport const Search = () => {\n\n    const [inputValue, setInputValue] = useState('')\n    const { dispatch } = useContext( MeliContext );\n\n    const history = useHistory();\n\n    const handleSearch = () => {\n        // dispatch({\n        //     type: types.search,\n        //     payload: inputValue\n        // });\n        const inputCode = encodeURI(inputValue)\n        history.replace(`/items?search=${ inputCode }`);\n    }\n\n    const handleEnterSearch = (e) => {\n        setInputValue(e.target.value)\n        if(e.key === 'Enter'){\n            // dispatch({\n            //     type: types.search,\n            //     payload: inputValue\n            // });\n            const inputCode = encodeURI(inputValue)\n            history.replace(`/items?search=${ inputCode }`);\n        }\n    }\n\n    const handleHome = () => {\n        dispatch({\n            type: types.categories,\n            payload: {categories: []}\n        });\n        history.replace('/');\n    }\n\n    return (\n        <>\n            <div className=\"search-container\">\n\n                <div onClick={handleHome}>\n                    <img src=\"https://res.cloudinary.com/dyiw5vcuq/image/upload/v1653881931/meli-test/Logo_ML_2x.png_rnraor.png\" alt=\"Mercado Libre Icon\" />\n                </div>\n                <div className=\"container-search-box\">\n                    <input\n                        name='search'\n                        type='text'\n                        placeholder='Nunca dejes de buscar'\n                        value={inputValue}\n                        onChange={handleEnterSearch}\n                        onKeyPress={handleEnterSearch}\n                    />\n                    <img\n                        src=\"https://res.cloudinary.com/dyiw5vcuq/image/upload/v1653881931/meli-test/ic_Search_2x.png_ne97hm.png\"\n                        alt=\"Mercado Libre Icon\"\n                        onClick={handleSearch}\n                    />\n                </div>\n            </div>\n        </>\n    )\n}\n","export const getMeliSearch = async (category) => {\n    try {\n        let busqueda = encodeURI(category)\n        console.log(busqueda);\n        const url = `https://meli-test33.herokuapp.com/api/items?q=​${busqueda}`\n\n        const resp = await fetch(url)\n        console.log(resp);\n        return resp\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const getItemDescription = async (item) => {\n    try {\n        let busqueda = encodeURI(item)\n        const url = `https://meli-test33.herokuapp.com/api/items/${busqueda}`\n\n        const resp = await fetch(url)\n        return resp\n    } catch (error) {\n        console.log(error);\n    }\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom';\n\nexport const Item = ({details}) => {\n\n    const history = useHistory();\n\n    const handleDetails = () => {\n        history.replace(`/items/${details.id}`);\n    }\n\n    return (\n        <div className=\"result-item\" onClick={handleDetails}>\n            <div className=\"row-one\">\n                <div>\n                    <img src={details.picture} alt={details.title} />\n                </div>\n                <div className=\"item-result-description\">\n                    <div className=\"container-price\">\n                        <p>$ {details.price.amount}<sub>{details.price.decimals}</sub></p>\n                        <div>\n                            {\n                                details.free_shipping &&\n                                <img src=\"https://res.cloudinary.com/dyiw5vcuq/image/upload/v1653881931/meli-test/ic_shipping_2x.png_ja5ccg.png\" alt=\"shipping\" />\n                            }\n                        </div>\n                    </div>\n                    <div className=\"item-result-description-facs\">\n                        <p>{details.title}</p>\n                    </div>\n                </div>\n            </div>\n            <div className=\"item-result-city\">\n                <p>{details.state_name}</p>\n            </div>\n        </div>\n    )\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { MeliContext } from '../contex/MeliContext'\nimport queryString from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { getMeliSearch } from '../helpers/getMELI';\nimport { types } from '../types/types'\nimport { Item } from './Item';\n\nexport const Results = () => {\n\n    const [items, setItems] = useState([]);\n    const {dispatch}  = useContext( MeliContext );\n\n    const location = useLocation();\n    const {search: querySearch} = queryString.parse(location.search);\n\n\n    useEffect(() => {\n        getMeliSearch(querySearch)\n            .then((res) => res.json())\n            .then((data) => {\n                setItems(data.results);\n                dispatch({\n                    type: types.categories,\n                    payload: data.categories\n                });\n            })\n            .catch((err) => console.log(\"Error al consultar MELI :(\", err));\n    }, [querySearch, dispatch]);\n\n    return (\n        <>\n            <div className=\"container-result\">\n                {\n                    items.map( item => (\n                        <Item details={item} key={item.id} />\n                    ))\n                }\n            </div>\n        </>\n    )\n}\n","import React, {useEffect, useState} from 'react'\nimport { useParams } from 'react-router-dom';\nimport { getItemDescription } from '../helpers/getMELI';\n\nexport const Details = () => {\n    const [details, setDetails] = useState([]);\n\n    const { id } = useParams();\n\n    useEffect(() => {\n        if (id) {\n            getItemDescription(id)\n                .then((res) => res.json())\n                .then((data) => {\n                    setDetails(data);\n                })\n                .catch((err) => console.log(\"Error al consultar MELI :(\", err));\n        }\n    }, [id]);\n\n    return (\n        <>\n            <div className=\"item-details\">\n                <div className=\"item-details-main\">\n                    <img src={details.picture} alt=\"mac\" />\n                    <div>\n                        {\n                            details.condition === 'new' ? (\n                                <p className=\"total-sales\">Nuevo - {details.sold_quantity} vendidos</p>\n                            ) : (\n                                <p className=\"total-sales\">{details.sold_quantity} vendidos</p>\n                            )\n                        }\n                        {\n                            details.item && (\n                                <>\n                                    <h1>{details.item.title}</h1>\n                                    <p className=\"item-details-price\">\n                                        $ {details.item.price.amount}\n                                        <sub>{details.item.price.decimals}</sub>\n                                    </p>\n                                </>\n                            )\n                        }\n                        <a href={details.buy_link} target=\"_blank\" rel=\"noopener noreferrer\">\n                            <button type=\"button\">Comprar</button>\n                        </a>\n                    </div>\n                </div>\n                <div className=\"item-details-description\">\n                    <h2>Descripción del producto</h2>\n                    <p>{details.description}</p>\n                </div>\n            </div>\n        </>\n    )\n}\n","import React from 'react'\n\nexport const Welcome = () => {\n    return (\n        <h1 style={{textAlign:'center', marginTop: '2rem'}}>\n            Bienvenido a MELI Test <span role=\"img\" aria-label=\"donut\">&#128155;</span>\n        </h1>\n    )\n}\n","import React from 'react'\nimport {\n    BrowserRouter as Router,\n    Switch\n} from 'react-router-dom';\nimport { Route, Redirect } from 'react-router-dom';\nimport { Category } from '../components/Category';\nimport { Search } from '../components/Search';\nimport { Results } from '../components/Results';\nimport { Details } from '../components/Details';\nimport { Welcome } from '../components/Welcome';\n\nexport const AppRouter = () => {\n\n    return (\n        <Router>\n            <>\n                <Search />\n                <div className=\"meli-container\">\n                    <Category />\n                    <Switch>\n                        <Route exact path=\"/\" component={ Welcome } />\n                        <Route exact path=\"/items\" component={ Results } />\n                        <Route exact path=\"/items/:id\" component={ Details } />\n\n                        <Redirect to=\"/\" />\n                    </Switch>\n                </div>\n            </>\n        </Router>\n    )\n}\n","import { types } from '../types/types';\n\nexport const meliReducer = (state = {}, action ) => {\n\n    switch ( action.type ) {\n\n        case types.categories:\n            return {categories: action.payload}\n\n        default:\n            return state;\n    }\n\n}","import React, { useReducer } from 'react'\nimport { AppRouter } from './routers/AppRouter'\nimport { MeliContext } from './contex/MeliContext'\nimport { meliReducer } from './contex/meliReducer'\n\nconst init = () => {\n    return { categories: [] };\n}\n\n\nexport const MeliApp = () => {\n\n    const [ categories, dispatch ] = useReducer(meliReducer, {}, init);\n\n    return (\n        <MeliContext.Provider value={{ categories, dispatch }}>\n            <AppRouter />\n        </MeliContext.Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MeliApp } from './MeliApp';\nimport './index.scss'\n\nReactDOM.render(\n  <MeliApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}